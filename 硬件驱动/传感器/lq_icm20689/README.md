# LQ_ICM20689 六轴IMU传感器驱动

> ⚙️ **硬件依赖模块** - 适用于STC16单片机平台

## 功能特性

- 六轴传感器：3轴加速度计 + 3轴陀螺仪
- SPI通信接口
- 完整的寄存器配置
- 原始数据读取
- 适用于龙邱智能车平台

## 使用场景

✅ **适用于**：
- STC16F系列单片机项目
- 龙邱智能车开发板
- 姿态检测、运动控制
- 平衡车、循线车等应用

⚠️ **不适用于**：
- STM32平台（需要修改SPI和IO接口）
- 需要DMP功能的场景（推荐使用MPU6050_DMP）

## 配置说明

### 平台要求
- 单片机：STC16F系列
- 通信接口：硬件SPI
- 时钟频率：30MHz

### 必须修改的代码

需要根据硬件连接修改IO定义和SPI配置：

```c
// 在 LQ_ICM20689.c 中修改
// SPI片选引脚
#define ICM_CS    P1^0  // 根据实际连接修改

// SPI相关配置
// 需要实现SPI初始化和读写函数
```

## API使用示例

```c
#include "LQ_ICM20689.h"

short ax, ay, az;  // 加速度
short gx, gy, gz;  // 陀螺仪

void main(void)
{
    // 初始化ICM20689
    ICM_Init();

    while(1)
    {
        // 读取原始数据
        ICM_Get_Raw_data(&ax, &ay, &az, &gx, &gy, &gz);

        // 使用数据
        // ...

        delay_ms(10);
    }
}
```

## 性能参数

- 加速度计量程：±2g / ±4g / ±8g / ±16g（可配置）
- 陀螺仪量程：±250dps / ±500dps / ±1000dps / ±2000dps（可配置）
- 采样率：最高8kHz
- 数据位宽：16位
- 通信速率：SPI最高10MHz

## 注意事项

1. **平台限制**：专为STC16平台设计，移植到其他平台需要修改底层接口
2. **SPI配置**：确保SPI时钟极性和相位正确（CPOL=1, CPHA=1）
3. **上电延时**：传感器上电后需要100ms稳定时间
4. **坐标系**：注意传感器坐标系与载体坐标系的对应关系

## 依赖项

- STC16F头文件
- 龙邱STC16开发板底层驱动（LQ_SPI等）

## 来源

网友那拿的（龙邱智能车例程）
